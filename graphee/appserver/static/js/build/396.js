"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[396],{4930:(e,t,n)=>{n.d(t,{Z:()=>at});var r,a=n(5861),o=n(2982),i=n(5671),l=n(3144),s=n(7326),c=n(9340),u=n(2963),d=n(1120),p=n(4942),f=n(168),h=n(4687),m=n.n(h),v=n(7294),g=n(1581),y=n.n(g),b=n(7145),E=n.n(b),k=n(8721),Z=n(8539),O=n.n(Z),C=n(8689),w=n.n(C),R=n(2788),S=n(2215),x=n.n(S),P=n(6206),N=n.n(P),j=R.default.span(r||(r=(0,f.Z)(["\n    color: ",";\n"])),(function(e){return e.color}));function _(e){return v.createElement("div",{"data-test":"msg-markdown"},(t=e.text,"link"===e.markdownType?t=v.createElement(N(),{to:e.link},e.text):"hybrid"===e.markdownType?(t=function(t,n){for(var r=[],a=0;a<t.length;a+=1){var o=[i=t[a],v.createElement(N(),{key:i,to:e.link},e.linkText)];r=r.concat(o)}var i;return r}(t.split(e.token))).pop():"text"===e.markdownType&&(t=v.createElement(j,{color:e.color},e.text)),t));var t}_.propTypes={text:y().string,link:y().string,color:y().string,markdownType:y().string,token:y().string,linkText:y().string};const M=v.memo(_);function T(e){var t=e.controlOptions,n=t.text,r=t.link;return v.createElement(N(),{to:r,openInNewContext:!0},n)}T.propTypes={controlOptions:y().object};const D=T;var F,V=n(6401),A=n.n(V);var q=(0,R.default)(A())(F||(F=(0,f.Z)(["\n    width: 320px !important;\n"]))),z=function(e){(0,c.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var a=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function a(){var e;(0,i.Z)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,p.Z)((0,s.Z)(e),"handleChange",(function(t,n){var r=n.value;e.props.handleChange(e.props.field,r)})),e}return(0,l.Z)(a,[{key:"render",value:function(){var e,t;return v.createElement(q,{inline:!0,error:this.props.error,placeholder:null===(e=this.props)||void 0===e||null===(t=e.controlOptions)||void 0===t?void 0:t.placeholder,className:this.props.field,disabled:this.props.disabled,value:null===this.props.value||void 0===this.props.value?"":this.props.value.toString(),onChange:this.handleChange,type:this.props.encrypted?"password":"text"})}}]),a}(v.Component);z.propTypes={value:y().oneOfType([y().string,y().number]),handleChange:y().func.isRequired,field:y().string,error:y().bool,controlOptions:y().object,encrypted:y().bool,disabled:y().bool};const L=z;var I,B,K=n(885),H=n(4925),U=n(6521),$=n.n(U),W=n(6300),G=n.n(W),X=n(6416),Y=n.n(X),J=n(4789),Q=n.n(J),ee=n(6219),te=n(1721),ne=n(2297),re=n(4255);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=(0,R.default)($())(I||(I=(0,f.Z)(["\n    width: 320px !important;\n"]))),le=R.default.div(B||(B=(0,f.Z)(["\n    div:first-child {\n        width: 320px !important;\n    }\n"])));function se(e){var t=e.field,n=e.disabled,r=void 0!==n&&n,a=e.error,o=void 0!==a&&a,i=e.controlOptions,l=e.dependencyValues,s=(0,H.Z)(e,["field","disabled","error","controlOptions","dependencyValues"]),c=i.endpointUrl,u=i.denyList,d=i.allowList,p=i.placeholder,f=void 0===p?(0,ee._)("Select a value"):p,h=i.dependencies,m=i.createSearchChoice,g=i.referenceName,y=i.disableSearch,b=i.labelField,E=i.autoCompleteFields,k=i.hideClearBtn;function Z(e,n){s.handleChange(t,n.value)}var O=m?G().Option:$().Option,C=m?G().Heading:$().Heading;function w(e){var t=[];return e.forEach((function(e){e.value&&e.label&&t.push(v.createElement(O,{label:e.label,value:e.value,key:e.value})),e.children&&e.label&&(t.push(v.createElement(C,{key:e.label},e.label)),e.children.forEach((function(e){t.push(v.createElement(O,{label:e.label,value:e.value,key:e.value}))})))})),t}var R=(0,v.useState)(!1),S=(0,K.Z)(R,2),x=S[0],P=S[1],N=(0,v.useState)(null),j=(0,K.Z)(N,2),_=j[0],M=j[1];(0,v.useEffect)((function(){if(c||g||!E){var e=!0,t=te.ZP.CancelToken.source(),n={cancelToken:t.token,handleError:!0,params:{count:-1}};return g?n.serviceName=g:c&&(n.endpointUrl=c),l&&(n.params=oe(oe({},n.params),l)),!h||l&&Object.keys(l).length?(P(!0),(0,ne.L)(n).then((function(t){e&&(M(w((0,re.gB)(t.data.entry,b,d,u))),P(!1))})).catch((function(){e&&P(!1)}))):M(null),function(){t.cancel("Operation canceled."),e=!1}}M(w(E))}),[l]);var T=!!x||r,D=x?(0,ee._)("Loading"):f,F=!T&&!k;return v.createElement(v.Fragment,null,m?v.createElement(le,{className:"dropdownBox"},v.createElement(G(),{value:null===e.value?"":e.value,name:t,error:o,placeholder:D,disabled:T,onChange:Z,inline:!0},_&&_.length>0&&_)):v.createElement(v.Fragment,null,v.createElement(ie,{className:"dropdownBox","data-test-loading":x,value:e.value,name:t,error:o,placeholder:D,disabled:T,onChange:Z,filter:!y,inline:!0},_&&_.length>0&&_),F?v.createElement(Y(),{"data-test":"clear",appearance:"secondary",icon:v.createElement(Q(),null),onClick:function(){return s.handleChange(t,"RESET_VALUE")}}):null))}se.propTypes={disabled:y().bool,value:y().string,error:y().bool,handleChange:y().func.isRequired,field:y().string,dependencyValues:y().object,controlOptions:y().shape({autoCompleteFields:y().array,endpointUrl:y().string,denyList:y().string,allowList:y().string,placeholder:y().string,dependencies:y().array,createSearchChoice:y().bool,referenceName:y().string,disableSearch:y().bool,labelField:y().string,hideClearBtn:y().bool})};const ce=se;var ue,de=n(4355),pe=n.n(de),fe=n(9609);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=(0,R.default)(pe())(ue||(ue=(0,f.Z)(["\n    width: 320px !important;\n"])));function ge(e){var t=e.field,n=e.disabled,r=void 0!==n&&n,a=e.error,o=void 0!==a&&a,i=e.value,l=e.controlOptions,s=e.dependencyValues,c=(0,H.Z)(e,["field","disabled","error","value","controlOptions","dependencyValues"]),u=l.endpointUrl,d=l.denyList,p=l.allowList,f=l.items,h=l.dependencies,m=l.referenceName,g=l.placeholder,y=l.createSearchChoice,b=l.labelField,E=l.delimiter,k=void 0===E?",":E;function Z(e){return e.map((function(e){return v.createElement(pe().Option,{label:e.label,value:e.value,key:e.value})}))}var O=(0,v.useState)(!1),C=(0,K.Z)(O,2),w=C[0],R=C[1],S=(0,v.useState)(null),x=(0,K.Z)(S,2),P=x[0],N=x[1];(0,v.useEffect)((function(){if(u||!f){var e=!0,t=te.ZP.CancelToken.source(),n={cancelToken:t.token,handleError:!0,params:{count:-1}};return m?n.serviceName=m:u&&(n.endpointUrl=u),s&&(n.params=me(me({},n.params),s)),h&&!s||(R(!0),(0,ne.L)(n).then((function(t){e&&(N(Z((0,re.gB)(t.data.entry,b,p,d))),R(!1))})).catch((function(){e&&R(!1)}))),function(){t.cancel("Operation canceled."),e=!1}}N(Z(f))}),[s]);var j=!!w||r,_=w?(0,fe.P)(115):g,M=i?i.split(k):[];return v.createElement(ve,{values:M,error:o,name:t,placeholder:_,disabled:j,allowNewValues:y,onChange:function(e,n){var r=n.values;c.handleChange(t,r.join(k))},inline:!0},P&&P.length>0&&P)}ge.propTypes={disabled:y().bool,value:y().string,error:y().bool,handleChange:y().func.isRequired,field:y().string,dependencyValues:y().object,controlOptions:y().shape({delimiter:y().string,placeholder:y().string,createSearchChoice:y().bool,referenceName:y().string,dependencies:y().array,endpointUrl:y().string,denyList:y().string,allowList:y().string,labelField:y().string,items:y().arrayOf(y().shape({label:y().string.isRequired,value:y().string.isRequired}))})};const ye=ge;var be=n(7885),Ee=n.n(be);var ke=function(e){(0,c.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var a=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function a(){var e;(0,i.Z)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,p.Z)((0,s.Z)(e),"handleChange",(function(){e.props.value&&!(0,re.mA)(e.props.value)?e.props.handleChange(e.props.field,0):e.props.handleChange(e.props.field,1)})),e}return(0,l.Z)(a,[{key:"render",value:function(){return v.createElement(Ee(),{key:this.props.field,value:this.props.field,onClick:this.handleChange,disabled:this.props.disabled,selected:!(!this.props.value||(0,re.mA)(this.props.value)),appearance:"checkbox"})}}]),a}(v.Component);ke.propTypes={value:y().oneOfType([y().bool,y().number,y().string]),handleChange:y().func.isRequired,field:y().string,disabled:y().bool};const Ze=ke;var Oe,Ce,we=n(4228),Re=n.n(we);var Se=(0,R.default)(Re())(Oe||(Oe=(0,f.Z)(["\n    width: 320px;\n"]))),xe=(0,R.default)(Re().Option)(Ce||(Ce=(0,f.Z)(["\n    margin-left: 0px !important;\n"]))),Pe=function(e){(0,c.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var a=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function a(){var e;(0,i.Z)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,p.Z)((0,s.Z)(e),"handleChange",(function(t,n){var r=n.value;e.props.handleChange(e.props.field,r)})),e}return(0,l.Z)(a,[{key:"render",value:function(){return v.createElement(Se,{inline:!0,onChange:this.handleChange,value:this.props.value,key:this.props.field},this.props.controlOptions.items.map((function(e){return v.createElement(xe,{key:e.value,value:e.value,label:e.label})})))}}]),a}(v.Component);Pe.propTypes={value:y().string,handleChange:y().func.isRequired,field:y().string,controlOptions:y().object};const Ne=Pe;var je=n(9895),_e=n.n(je);function Me(e){var t=e.controlOptions.defaultValue;return v.createElement(_e(),null,t)}Me.propTypes={controlOptions:y().object};const Te=Me;var De=n(9536);var Fe=function(e){(0,c.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var a=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function a(e){var t;return(0,i.Z)(this,a),t=r.call(this,e),(0,p.Z)((0,s.Z)(t),"loadCustomControl",(function(e,t,n){return new Promise((function(r){"external"===t?import("".concat((0,De.a)(),"/custom/").concat(e,".js")).then((function(e){var t=e.default;r(t)})):require(["app/".concat(n,"/js/build/custom/").concat(e)],(function(e){r(e)}))}))})),(0,p.Z)((0,s.Z)(t),"setValue",(function(e){t.props.handleChange(t.props.field,e)})),t.state={loading:!0},t.shouldRender=!0,t}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=(0,re.YK)(),n=t.meta.name;this.loadCustomControl(this.props.controlOptions.src,this.props.controlOptions.type,n).then((function(n){var r=new n(t,e.el,e.props.data,e.setValue,e.props.utilCustomFunctions);r.render(),"function"==typeof r.validation&&e.props.addCustomValidator(e.props.field,r.validation),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return v.createElement(v.Fragment,null,this.state.loading&&(0,ee._)("Loading..."),v.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),a}(v.Component);Fe.propTypes={data:y().object,field:y().string,handleChange:y().func,controlOptions:y().object,addCustomValidator:y().func,utilCustomFunctions:y().object};const Ve={text:L,singleSelect:ce,helpLink:D,multipleSelect:ye,checkbox:Ze,radio:Ne,placeholder:Te,custom:Fe};var Ae,qe;var ze=R.default.div(Ae||(Ae=(0,f.Z)(["\n    margin-left: 30px;\n"]))),Le=(0,R.default)(x()).attrs((function(e){return{"data-name":e.dataName}}))(qe||(qe=(0,f.Z)(["\n    width: 100%;\n    max-width: 100%;\n\n    > * {\n        &:first-child {\n            width: 240px !important;\n        }\n        &:nth-child(3) {\n            margin-left: 270px !important;\n            width: 320px;\n        }\n    }\n"]))),Ie=function(e){(0,c.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var a=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function a(e){var t;return(0,i.Z)(this,a),t=r.call(this,e),(0,p.Z)((0,s.Z)(t),"isString",(function(e){return!!("string"==typeof e||e instanceof String)})),t.controlType=t.isString(e.entity.type)?Ve[e.entity.type]:null,t}return(0,l.Z)(a,[{key:"render",value:function(){var e,t=this.props.entity,n=t.field,r=t.type,a=t.label,o=t.tooltip,i=t.help,l=t.encrypted,s=void 0!==l&&l,c=this.props.utilityFuncts,u=c.handleChange,d=c.addCustomValidator,p=c.utilCustomFunctions,f=this.props.markdownMessage||{},h=f.text,m=f.link,g=f.color,y=f.markdownType,b=f.token,E=f.linkText;if("custom"===this.props.entity.type){var k={value:this.props.value,mode:this.props.mode,serviceName:this.props.serviceName};e=this.controlType?v.createElement(this.controlType,{data:k,field:n,handleChange:u,addCustomValidator:d,utilCustomFunctions:p,controlOptions:this.props.entity.options}):"No View Found for ".concat(r," type")}else e=this.controlType?v.createElement(this.controlType,{handleChange:u,value:this.props.value,field:n,controlOptions:this.props.entity.options,error:this.props.error,disabled:this.props.disabled,encrypted:s,dependencyValues:this.props.dependencyValues}):"No View Found for ".concat(r," type");var Z=v.createElement(v.Fragment,null,v.createElement(M,{text:h||"",link:m||"",color:g||"",markdownType:y||"",token:b||"",linkText:E||""}),i);return this.props.display&&v.createElement(Le,{label:a,help:Z,tooltip:o,error:this.props.error,dataName:n},v.createElement(ze,null,e))}}]),a}(v.PureComponent);Ie.propTypes={mode:y().string,utilityFuncts:y().object,value:y().any,display:y().bool,error:y().bool,entity:y().object,disabled:y().bool,markdownMessage:y().object,serviceName:y().string,dependencyValues:y().object};const Be=Ie;var Ke={url:{regex:/^(?:(?:https?|ftp|opc\.tcp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?_?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?)(?::\d{2,5})?(?:\/[^\s]*)?$/,inputValueType:(0,fe.P)(111)},email:{regex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,inputValueType:(0,fe.P)(112)},ipv4:{regex:/^(?:(?:[0-1]?\d{1,2}|2[0-4]\d|25[0-5])(?:\.|$)){4}$/,inputValueType:(0,fe.P)(113)},date:{regex:/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,inputValueType:(0,fe.P)(114)}},He=n(4317);const Ue=function(){function e(t){(0,i.Z)(this,e),(0,p.Z)(this,"checkIsFieldHasInput",(function(e){return void 0!==e&&""!==e&&null!==e})),this.entities=t,this.isName=t.find((function(e){return"name"===e.field}))}return(0,l.Z)(e,[{key:"RequiredValidator",value:function(e,t,n){return!this.checkIsFieldHasInput(n)&&{errorField:e,errorMsg:(0,fe.P)(6,[t])}}},{key:"StringValidator",value:function(e,t,n,r){var a=(0,He.LE)(n.minLength,n.maxLength).error;return a?{errorField:e,errorMsg:a}:this.checkIsFieldHasInput(r)&&r.length>n.maxLength?{errorField:e,errorMsg:n.errorMsg?n.errorMsg:(0,fe.P)(18,[t,n.maxLength])}:!!(this.checkIsFieldHasInput(r)&&r.length<n.minLength)&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:(0,fe.P)(17,[t,n.minLength])}}},{key:"RegexValidator",value:function(e,t,n,r){var a=(0,He.en)(n.pattern),o=a.error,i=a.result;return o?{errorField:e,errorMsg:o}:!(!this.checkIsFieldHasInput(r)||i.test(r))&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:(0,fe.P)(15,[t,n.pattern])}}},{key:"PreDefinedRegexValidator",value:function(e,t,n,r,a,o){var i=(0,He.en)(a),l=i.error,s=i.result;return l?{errorField:e,errorMsg:l}:!(!this.checkIsFieldHasInput(r)||s.test(r))&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:(0,fe.P)(19,[t,o])}}},{key:"NumberValidator",value:function(e,t,n,r){var a=(0,He.nC)(n.range).error;if(a)return{errorField:e,errorMsg:a};var o=Number(r);return Number.isNaN(o)?{errorField:e,errorMsg:n.errorMsg?n.errorMsg:(0,fe.P)(16,[t])}:!!(this.checkIsFieldHasInput(r)&&o>n.range[1]||o<n.range[0])&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:(0,fe.P)(8,[t,n.range[0],n.range[1]])}}},{key:"doValidation",value:function(t){if(this.isName){var n=t.name,r=this.isName.label;if(void 0===n||""===n||null==n)return{errorField:"name",errorMsg:(0,fe.P)(0,[r])};if(!("string"==typeof n||n instanceof String))return{errorField:"name",errorMsg:(0,fe.P)(1,[r])};if(n.startsWith("_")||"."===n||".."===n||"default"===n.toLowerCase())return{errorField:"name",errorMsg:(0,fe.P)(3,[r])};if(["*","\\","[","]","(",")","?",":"].some((function(e){return n.indexOf(e)>-1})))return{errorField:"name",errorMsg:(0,fe.P)(3,[r])};if(n.length>=1024)return{errorField:"name",errorMsg:(0,fe.P)(22,[r])}}var a,o,i;for(o=0;o<this.entities.length;o+=1){if(!0===this.entities[o].required&&(a=this.RequiredValidator(this.entities[o].field,this.entities[o].label,t[this.entities[o].field])))return a;if(""!==t[this.entities[o].field]&&null!==t[this.entities[o].field]&&this.entities[o].validators)for(i=0;i<this.entities[o].validators.length;i+=1)switch(this.entities[o].validators[i].type){case"string":if(a=this.StringValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"regex":if(a=this.RegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"number":if(a=this.NumberValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"url":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],Ke.url.regex,Ke.url.inputValueType))return a;break;case"date":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],Ke.date.regex,Ke.date.inputValueType))return a;break;case"email":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],Ke.email.regex,Ke.email.inputValueType))return a;break;case"ipv4":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],Ke.ipv4.regex,Ke.ipv4.inputValueType))return a;break;case"custom":if(a=e.CustomValidator(this.entities[o].validators[i].validatorFunc,this.entities[o].field,t[this.entities[o].field]))return a}}return!1}}],[{key:"CustomValidator",value:function(e,t,n){var r=e(t,n);return"string"==typeof r&&{errorField:t,errorMsg:r}}}]),e}();var $e,We,Ge=n(6549),Xe=n(4843),Ye="Error occurred while trying to authenticate. Please try Again.",Je=n(6057);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=(0,R.default)(O())($e||($e=(0,f.Z)(["\n    span {\n        button {\n            background-color: transparent;\n            font-size: 16px;\n            margin: 10px 0;\n\n            &:hover:not([disabled]),\n            &:focus:not([disabled]),\n            &:active:not([disabled]) {\n                background-color: transparent;\n                box-shadow: none;\n            }\n        }\n    }\n\n    .collapsible-element {\n        padding-top: 15px;\n    }\n"]))),nt=R.default.div(We||(We=(0,f.Z)(["\n    padding: 6px 10px;\n    background-color: #f2f4f5;\n"]))),rt=function(e){(0,c.Z)(f,e);var t,n,r=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var a=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function f(e,t){var n;(0,i.Z)(this,f),n=r.call(this,e),(0,p.Z)((0,s.Z)(n),"updateEntitiesForGroup",(function(e){n.groups&&n.groups.length&&n.groups.forEach((function(t){var r;t&&null!==(r=t.fields)&&void 0!==r&&r.length&&t.fields.forEach((function(t){var r=e.entity.findIndex((function(e){return e.field===t}));if(-1!==r){var a=JSON.parse(JSON.stringify(e.entity[r]));a.isGrouping=!0,n.entities.splice(r,1,a)}}))}))})),(0,p.Z)((0,s.Z)(n),"handleSubmit",(function(){if(n.clearErrorMsg(),n.props.handleFormSubmit(!0,!1),n.datadict={},Object.keys(n.state.data).forEach((function(e){n.datadict[e]=n.state.data[e].value})),!n.hook||"function"!=typeof n.hook.onSave||n.hook.onSave(n.datadict)){var e=function(){var e;if(Object.keys(n.state.data).forEach((function(e){n.datadict[e]=n.state.data[e].value})),[Ge.jg,Ge.Oh].includes(n.props.mode)&&Boolean(Object.values(n.context.rowData).find((function(e){return Object.keys(e).find((function(e){return e===n.datadict.name}))})))){var t=n.entities.findIndex((function(e){return"name"===e.field}));return n.setErrorFieldMsg("name",(0,fe.P)(2,[n.entities[t].label,n.datadict.name])),void n.props.handleFormSubmit(!1,!1)}if(n.isOAuth){var r=[];Object.keys(n.authMap).forEach((function(e){e!==n.datadict.auth_type&&n.isAuthVal||(r=[].concat((0,o.Z)(r),(0,o.Z)(n.authMap[e])))})),e=n.entities.map((function(e){return r.includes(e.field)?et({required:!0},e):e}))}else e=n.entities;var i=new Ue(e).doValidation(n.datadict);if(i?n.setErrorFieldMsg(i.errorField,i.errorMsg):n.options&&n.options.saveValidator&&(i=function(e,t){var n=(0,He.IX)(e),r=n.error,a=n.result;if(r)return{errorMsg:r};var o=a(t);return"string"==typeof o?{errorMsg:o}:void 0}(n.options.saveValidator,n.datadict))&&n.setErrorMsg(i.errorMsg),i)n.props.handleFormSubmit(!1,!1);else if(n.isOAuth&&(n.isSingleOauth||n.isAuthVal&&"oauth"===n.datadict.auth_type)){var l="?response_type=code&client_id=".concat(n.datadict.client_id,"&redirect_uri=").concat(n.datadict.redirect_url),s=null!=n.isoauthState&&n.isoauthState;"true"!==s&&!0!==s||(n.state_enabled=!0,n.oauth_state=(0,k.Z)().replace(/-/g,""),l="".concat(l,"&state=").concat(n.oauth_state));var c="https://".concat(n.datadict.endpoint).concat(n.oauthConf.authCodeEndpoint).concat(l);(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isCalled=!1,n.isError=!1,n.isResponse=!1,n.childWin=window.open(c,"".concat(n.appName," OAuth"),"width=".concat(n.oauthConf.popupWidth,", height=").concat(n.oauthConf.popupHeight)),window.getMessage=function(e){n.isCalled=!0,n.handleOauthToken(e)},e.next=7,n.waitForAuthentication(n.oauthConf.authTimeout);case 7:if(n.isCalled||!n.childWin.closed){e.next=11;break}return n.setErrorMsg("Authentication process interrupted. Please try again."),n.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 11:if(n.isCalled){e.next=15;break}return n.setErrorMsg("Request time out while authenticating. Please try again."),n.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 15:return e.next=17,n.waitForBackendResponse(30);case 17:if(n.isResponse||n.isError){e.next=22;break}return n.isError=!0,n.setErrorMsg("Request time out while getting accesstoken. Please try again."),n.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})))().then((function(){n.isError?n.props.handleFormSubmit(!1,!1):n.saveData()}))}else n.saveData()};n.hook&&"function"==typeof n.hook.onSave&&void 0!==n.onSavePromise?n.onSavePromise.then((function(){e()})):e()}else n.props.handleFormSubmit(!1,!1)})),(0,p.Z)((0,s.Z)(n),"saveData",(function(){var e=new URLSearchParams;Object.keys(n.datadict).forEach((function(t){null!=n.datadict[t]&&e.append(t,n.datadict[t])})),n.isAuthVal&&Object.keys(n.authMap).forEach((function(t){n.datadict.auth_type!==t&&n.authMap[t].forEach((function(t){e.set(t,"")}))})),n.isOAuth&&e.delete("redirect_url"),n.props.mode===Ge.bZ&&e.delete("name"),(0,ne.L)({serviceName:n.endpoint,body:e,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!1}).then((function(e){var t,r=null==e||null===(t=e.data)||void 0===t?void 0:t.entry[0];if(n.props.mode!==Ge.DE){var a={};a[r.name]=et(et(et({},n.datadict),r.content),{},{id:r.id,name:r.name,serviceName:n.props.serviceName}),n.context.setRowData(E()(n.context.rowData,(0,p.Z)({},n.props.serviceName,{$merge:a})))}n.hook&&"function"==typeof n.hook.onSaveSuccess&&n.hook.onSaveSuccess(),n.props.mode===Ge.bZ?(0,re.Ke)('Updated "'.concat(r.name,'"'),"success"):n.props.mode===Ge.DE?(0,re.Ke)('Updated "'.concat(n.mode_config_title?n.mode_config_title:r.name,'"'),"success"):(0,re.Ke)('Created "'.concat(r.name,'"'),"success"),n.props.handleFormSubmit(!1,!0)})).catch((function(e){var t=(0,fe.n)(e);n.setState({errorMsg:t}),n.hook&&"function"==typeof n.hook.onSaveFail&&n.hook.onSaveFail(),n.props.handleFormSubmit(!1,!1)}))})),(0,p.Z)((0,s.Z)(n),"handleChange",(function(e,t){var r={};if("auth_type"===e&&Object.keys(n.authMap).forEach((function(e){e===t?n.authMap[e].forEach((function(e){r[e]={display:{$set:!0}}})):n.authMap[e].forEach((function(e){r[e]={display:{$set:!1}}}))})),n.dependencyMap.has(e)){var a=n.dependencyMap.get(e);Object.keys(a).forEach((function(o){var i={},l=!0;a[o].forEach((function(r){var a=!!n.entities.find((function(e){return e.field===r})).required,o=r===e?t:n.state.data[r].value;a&&!o?(l=!1,i[r]=null):"RESET_VALUE"===o?l=!0:i[r]=o})),l&&(r[o]={dependencyValues:{$set:i},value:{$set:null}})}))}r[e]={value:{$set:t}};var o=E()(n.state,{data:r}),i=n.clearAllErrorMsg(o);n.setState(i),n.hookDeferred&&n.hookDeferred.then((function(){"function"==typeof n.hook.onChange&&n.hook.onChange(e,t,i)}))})),(0,p.Z)((0,s.Z)(n),"addCustomValidator",(function(e,t){var r=n.entities.findIndex((function(t){return t.field===e})),a=[{type:"custom",validatorFunc:t}];n.entities[r].validators=a})),(0,p.Z)((0,s.Z)(n),"setErrorFieldMsg",(function(e,t){n.setState((function(n){var r=E()(n,{data:(0,p.Z)({},e,{error:{$set:!0}})});return r.errorMsg=t,r}))})),(0,p.Z)((0,s.Z)(n),"setErrorField",(function(e){n.setState((function(t){return E()(t,{data:(0,p.Z)({},e,{error:{$set:!0}})})}))})),(0,p.Z)((0,s.Z)(n),"clearErrorMsg",(function(){n.state.errorMsg&&n.setState((function(e){return et(et({},e),{},{errorMsg:""})}))})),(0,p.Z)((0,s.Z)(n),"setErrorMsg",(function(e){n.setState((function(t){return et(et({},t),{},{errorMsg:e})}))})),(0,p.Z)((0,s.Z)(n),"clearAllErrorMsg",(function(e){var t=et({},e||n.state);t.errorMsg="",t.warningMsg="";var r=et({},e?e.data:n.state.data),a={};return Object.keys(r).forEach((function(e){r[e].error?a[e]=et(et({},r[e]),{},{error:!1}):a[e]=r[e]})),t.data=a,e?t:null})),(0,p.Z)((0,s.Z)(n),"generateErrorMessage",(function(){return n.state.errorMsg?v.createElement(w(),{appearance:"fill",type:"error"},n.state.errorMsg):null})),(0,p.Z)((0,s.Z)(n),"generateWarningMessage",(function(){return n.state.warningMsg?v.createElement(w(),{appearance:"fill",type:"warning"},n.state.warningMsg):null})),(0,p.Z)((0,s.Z)(n),"loadHook",(function(e,t,r){return new Promise((function(a){"external"===t?import("".concat((0,De.a)(),"/custom/").concat(e,".js")).then((function(e){var t=e.default;n.hook=new t(r,n.props.serviceName,n.state,n.props.mode,n.util),a(t)})):require(["app/".concat(n.appName,"/js/build/custom/").concat(e)],(function(e){n.hook=new e(r,n.props.serviceName,n.state,n.props.mode,n.util),a(e)}))}))})),(0,p.Z)((0,s.Z)(n),"handleOauthToken",(function(e){if(!e||e&&e.error||void 0===e.code)return n.setErrorMsg(Ye),n.isError=!0,n.isResponse=!0,!1;var t=e.state;if(!0===n.state_enabled&&n.oauth_state!==t)return n.setErrorMsg("Response not received from the expected sender. Please try again."),n.isError=!0,n.isResponse=!0,!1;var r=decodeURIComponent(e.code),a={method:"POST",url:"https://".concat(n.datadict.endpoint).concat(n.oauthConf.accessTokenEndpoint),grant_type:"authorization_code",client_id:n.datadict.client_id,client_secret:n.datadict.client_secret,code:r,redirect_uri:n.datadict.redirect_url},o=new URLSearchParams;Object.keys(a).forEach((function(e){o.append(e,a[e])}));var i="".concat(n.appName,"_oauth/oauth");(0,ne.L)({endpointUrl:i,body:o,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!1}).then((function(e){if(void 0===e.data.entry[0].content.error){var t=e.data.entry[0].content.access_token,r=e.data.entry[0].content.instance_url,a=e.data.entry[0].content.refresh_token;return n.datadict.instance_url=r,n.datadict.refresh_token=a,n.datadict.access_token=t,n.isResponse=!0,!0}return n.setErrorMsg(e.data.entry[0].content.error),n.isError=!0,n.isResponse=!0,!1})).catch((function(){return n.setErrorMsg(Ye),n.isError=!0,n.isResponse=!0,!1}))})),(0,p.Z)((0,s.Z)(n),"waitForAuthentication",function(){var e=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t-=1,!0!==n.isCalled){e.next=3;break}return e.abrupt("return",!0);case 3:if(0!==t&&!n.childWin.closed){e.next=6;break}return n.isError=!0,e.abrupt("return",!1);case 6:return e.next=8,n.sleep(n.waitForAuthentication,t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.Z)((0,s.Z)(n),"waitForBackendResponse",function(){var e=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t+=1,!0!==n.isResponse){e.next=3;break}return e.abrupt("return",!0);case 3:if(60!==t){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,n.sleep(n.waitForBackendResponse,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.Z)((0,s.Z)(n),"sleep",function(){var e=(0,a.Z)(m().mark((function e(t){var r,a,o,i=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.timeout(1e3);case 2:for(r=i.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=i[o];return e.abrupt("return",t.apply(void 0,a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.Z)((0,s.Z)(n),"timeout",(function(e){return new Promise((function(t){return setTimeout(t,e)}))})),(0,p.Z)((0,s.Z)(n),"renderGroupElements",(function(){var e=null;return n.groups&&n.groups.length&&(e=n.groups.map((function(e){var t,r=(null===(t=e.fields)||void 0===t?void 0:t.length)&&e.fields.map((function(e){return n.entities.map((function(t){if(t.field===e){var r=n.state.data[t.field];return v.createElement(Be,{key:t.field,utilityFuncts:n.utilControlWrapper,value:r.value,display:r.display,error:r.error,entity:t,serviceName:n.props.serviceName,mode:n.props.mode,disabled:r.disabled,markdownMessage:r.markdownMessage,dependencyValues:r.dependencyValues||null})}return null}))}));return e.options.isExpandable?v.createElement(tt,{title:e.label},v.createElement("div",{className:"collapsible-element"},r)):v.createElement(v.Fragment,null,v.createElement(nt,null,e.label),v.createElement("div",null,r))}))),e})),n.flag=!0,n.state={},n.currentInput={};var l=(0,re.YK)();n.appName=l.meta.name,n.endpoint=e.mode===Ge.bZ||e.mode===Ge.DE?"".concat(n.props.serviceName,"/").concat(encodeURIComponent(n.props.stanzaName)):"".concat(n.props.serviceName),n.util={setState:function(e){n.onSavePromise=new Promise((function(t){n.setState((function(t){return e(t)}),t)}))},setErrorFieldMsg:n.setErrorFieldMsg,clearAllErrorMsg:n.clearAllErrorMsg,setErrorMsg:n.setErrorMsg},n.utilControlWrapper={handleChange:n.handleChange,addCustomValidator:n.addCustomValidator,utilCustomFunctions:n.util},e.page===Xe.b?l.pages.inputs.services.forEach((function(r){r.name===e.serviceName&&(n.groups=r.groups,n.entities=r.entity,n.updateEntitiesForGroup(r),n.options=r.options,r.hook&&(n.hookDeferred=n.loadHook(r.hook.src,r.hook.type,l)),e.mode!==Ge.bZ&&e.mode!==Ge.Oh||(n.currentInput=t.rowData[e.serviceName][e.stanzaName]))})):l.pages.configuration.tabs.forEach((function(r){(r.table?r.name===e.serviceName:r.name===e.stanzaName&&"settings"===e.serviceName)&&(n.entities=r.entity,n.options=r.options,r.hook&&(n.hookDeferred=n.loadHook(r.hook.src,r.hook.type,l)),!r.table||e.mode!==Ge.bZ&&e.mode!==Ge.Oh?e.mode===Ge.DE?(n.currentInput=e.currentServiceState,n.mode_config_title=r.title):n.currentInput=t.rowData[e.serviceName]:n.currentInput=t.rowData[e.serviceName][e.stanzaName])})),n.dependencyMap=new Map,n.isOAuth=!1,n.isAuthVal=!1,n.authMap={};var c={},u=[];n.entities.forEach((function(t){if("oauth"===t.type){if(n.isOAuth=!0,e.page===Xe.y&&"account"===e.serviceName){var r,a,o,i=null==t||null===(r=t.options)||void 0===r?void 0:r.auth_type;if(n.isoauthState=void 0!==(null==t||null===(a=t.options)||void 0===a?void 0:a.oauth_state_enabled)?null==t||null===(o=t.options)||void 0===o?void 0:o.oauth_state_enabled:null,i.length>1){n.isAuthVal=!0;var l={};l.value=void 0!==n.currentInput.auth_type?n.currentInput.auth_type:i[0],l.display=!0,l.error=!1,l.disabled=!1,c.auth_type=l;var s={field:"auth_type",type:"singleSelect",label:"Auth Type"},d={basic:"Basic Authentication",oauth:"OAuth 2.0 Authentication"};s.options={},s.options.hideClearBtn=!0,s.options.autoCompleteFields=i.map((function(e){return{label:d[e],value:e}})),u.push(s)}else n.isSingleOauth=i.includes("oauth");if(i.forEach((function(r){var a=[],o=null==t?void 0:t.options[r];o&&(o.forEach((function(t){var o={};if(e.mode===Ge.jg)o.value=void 0!==(null==t?void 0:t.defaultValue)?t.defaultValue:null;else{var i=void 0!==(null==t?void 0:t.encrypted)&&(null==t?void 0:t.encrypted);o.value=i?"":n.currentInput[t.field]}o.display=void 0===c.auth_type||r===c.auth_type.value,o.error=!1,o.disabled=!1,c[t.field]=o,t.type=void 0!==(null==t?void 0:t.type)?t.type:"text","redirect_url"===t.field&&(o.value=window.location.href.split("?")[0].replace("configuration","".concat(n.appName.toLowerCase(),"_redirect")),o.disabled=!0),u.push(t),a.push(t.field)})),n.authMap[r]=a)})),i.includes("oauth")){var f={};f.popupWidth=t.options.oauth_popup_width?t.options.oauth_popup_width:600,f.popupHeight=t.options.oauth_popup_height?t.options.oauth_popup_height:600,f.authTimeout=t.options.oauth_timeout?t.options.oauth_timeout:180,f.authCodeEndpoint=t.options.auth_code_endpoint?t.options.auth_code_endpoint:null,f.accessTokenEndpoint=t.options.access_token_endpoint?t.options.access_token_endpoint:null,n.oauthConf=f}}}else{var h,m,v={};if(t.encrypted=void 0!==t.encrypted&&t.encrypted,e.mode===Ge.jg)v.value=void 0!==t.defaultValue?t.defaultValue:null,v.display=void 0===(null==t||null===(m=t.options)||void 0===m?void 0:m.display)||t.options.display,v.error=!1,v.disabled=!1,c[t.field]=v;else if(e.mode===Ge.bZ){var g,y;v.value=void 0!==n.currentInput[t.field]?n.currentInput[t.field]:null,v.value=t.encrypted?"":v.value,v.display=void 0===(null==t||null===(g=t.options)||void 0===g?void 0:g.display)||t.options.display,v.error=!1,v.disabled=!1,"name"===t.field?v.disabled=!0:void 0!==(null==t||null===(y=t.options)||void 0===y?void 0:y.disableonEdit)&&(v.disabled=t.options.disableonEdit),c[t.field]=v}else if(e.mode===Ge.Oh){var b;v.value="name"===t.field||t.encrypted?"":n.currentInput[t.field],v.display=void 0===(null==t||null===(b=t.options)||void 0===b?void 0:b.display)||t.options.display,v.error=!1,v.disabled=!1,c[t.field]=v}else{if(e.mode!==Ge.DE)throw new Error("Invalid mode :",e.mode);var E,k;t.defaultValue=void 0!==t.defaultValue?t.defaultValue:null,v.value=void 0!==n.currentInput[t.field]?n.currentInput[t.field]:t.defaultValue,v.value=t.encrypted?"":v.value,v.display=void 0===(null==t||null===(E=t.options)||void 0===E?void 0:E.display)||t.options.display,v.error=!1,v.disabled=!1,"name"===t.field?v.disabled=!0:void 0!==(null==t||null===(k=t.options)||void 0===k?void 0:k.disableonEdit)&&(v.disabled=t.options.disableonEdit),c[t.field]=v}var Z=null===(h=t.options)||void 0===h?void 0:h.dependencies;Z&&Z.forEach((function(e){var r=n.dependencyMap.get(e);r?r[t.field]=Z:n.dependencyMap.set(e,(0,p.Z)({},t.field,Z))})),u.push(t)}})),n.entities=u;var d={};n.dependencyMap.forEach((function(e){d=et(et({},d),e)}));var h={};return Object.keys(d).forEach((function(e){var t=d[e],r={},a=!0;t.forEach((function(e){var t=!!n.entities.find((function(t){return t.field===e})).required,o=c[e].value;t&&!o?(a=!1,r[e]=null):r[e]=o})),a&&(h[e]={dependencyValues:{$set:r}})})),c=E()(c,h),n.state={data:c,errorMsg:"",warningMsg:""},n.hookDeferred&&n.hookDeferred.then((function(){if("function"==typeof n.hook.onCreate)try{n.hook.onCreate()}catch(e){console.error(e)}})),n}return(0,l.Z)(f,[{key:"render",value:function(){var e=this;return this.flag&&(this.hookDeferred&&this.hookDeferred.then((function(){if("function"==typeof e.hook.onRender)try{e.hook.onRender()}catch(e){console.error(e)}})),this.props.mode===Ge.bZ&&this.hookDeferred&&this.hookDeferred.then((function(){if("function"==typeof e.hook.onEditLoad)try{e.hook.onEditLoad()}catch(e){console.error(e)}})),this.flag=!1),v.createElement("div",null,v.createElement("form",{style:this.props.mode===Ge.DE?{marginTop:"25px"}:{}},this.generateWarningMessage(),this.generateErrorMessage(),this.renderGroupElements(),this.entities.map((function(t){var n;if(t.isGrouping)return null;var r=e.state.data[t.field];return r.placeholder&&(t=et(et({},t),{},{options:et(et({},t.options),{},{placeholder:r.placeholder})})),t.required||Object.prototype.hasOwnProperty.call(t,"oauth_field")||null!==(n=t.options)&&void 0!==n&&n.placeholder||(t.options=et(et({},t.options),{},{placeholder:"optional"})),v.createElement(Be,{key:t.field,utilityFuncts:e.utilControlWrapper,value:r.value,display:r.display,error:r.error,entity:t,serviceName:e.props.serviceName,mode:e.props.mode,disabled:r.disabled,markdownMessage:r.markdownMessage,dependencyValues:r.dependencyValues||null})}))))}}]),f}(v.PureComponent);(0,p.Z)(rt,"contextType",Je.Z),rt.propTypes={page:y().string,serviceName:y().string,stanzaName:y().string,currentServiceState:y().object,mode:y().string,handleFormSubmit:y().func};const at=rt},5792:(e,t,n)=>{n.d(t,{Z:()=>S});var r,a=n(5671),o=n(3144),i=n(7326),l=n(9340),s=n(2963),c=n(1120),u=n(4942),d=n(168),p=n(7294),f=n(1581),h=n.n(f),m=n(6416),v=n.n(m),g=n(1158),y=n.n(g),b=n(2788),E=n(5414),k=n.n(E),Z=n(6219),O=n(6549),C=n(4930);var w=(0,b.default)(y())(r||(r=(0,d.Z)(["\n    width: 800px;\n"]))),R=function(e){(0,l.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function d(e){var t;return(0,a.Z)(this,d),t=r.call(this,e),(0,u.Z)((0,i.Z)(t),"handleRequestClose",(function(){t.props.handleRequestClose()})),(0,u.Z)((0,i.Z)(t),"handleSubmit",(function(){t.form.current.handleSubmit()&&t.handleRequestClose()})),(0,u.Z)((0,i.Z)(t),"handleFormSubmit",(function(e,n){t.setState({isSubmititng:e}),n&&t.handleRequestClose()})),t.form=p.createRef(),t.state={isSubmititng:!1},e.mode===O.jg?t.buttonText=(0,Z._)("Add"):e.mode===O.Oh?t.buttonText=(0,Z._)("Save"):e.mode===O.bZ?t.buttonText=(0,Z._)("Update"):t.buttonText=(0,Z._)("Submit"),t}return(0,o.Z)(d,[{key:"render",value:function(){return p.createElement(w,{open:this.props.open},p.createElement(y().Header,{title:this.props.formLabel,onRequestClose:this.handleRequestClose}),p.createElement(y().Body,null,p.createElement(C.Z,{ref:this.form,page:this.props.page,serviceName:this.props.serviceName,mode:this.props.mode,stanzaName:this.props.stanzaName,handleFormSubmit:this.handleFormSubmit})),p.createElement(y().Footer,null,p.createElement(v(),{appearance:"secondary",onClick:this.handleRequestClose,label:(0,Z._)("Cancel"),disabled:this.state.isSubmititng}),p.createElement(v(),{className:"saveBtn",appearance:"primary",label:this.state.isSubmititng?p.createElement(k(),null):this.buttonText,onClick:this.handleSubmit,disabled:this.state.isSubmititng})))}}]),d}(p.Component);R.propTypes={page:h().string,open:h().bool,handleRequestClose:h().func,serviceName:h().string,mode:h().string,stanzaName:h().string,formLabel:h().string};const S=R},5496:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(5671),a=n(3144),o=n(9340),i=n(2963),l=n(1120),s=n(7294),c=n(1581),u=n.n(c),d=n(8580),p=n.n(d),f=n(6219),h=n(2978),m=n.n(h),v=n(4003),g=n.n(v),y=n(6206),b=n.n(y);const E={ERR0001:s.createElement(s.Fragment,null,"This is normal on Splunk search heads as they do not require an Input page. Check your installation or return to the ",s.createElement(b(),{to:"configuration"},"configuration page"),"."),ERR0002:"Configuration page failed to load, the server reported internal errors which may indicate you do not have access to this page.",ERR0003:"Failed to load content due to no response from server!",ERR0004:"Failed to load content due to failed request processing!",ERR0005:"Failed to load current state for selected entity in form!"};var k=function(e){(0,o.Z)(u,e);var t,n,c=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){var t;return(0,r.Z)(this,u),(t=c.call(this,e)).state={errorCode:null,error:null,errorInfo:null},t}return(0,a.Z)(u,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e;return this.state.error?s.createElement("div",{align:"center",style:{marginTop:"10%"}},s.createElement(m(),{style:{boxShadow:"10px 10px 5px #aaaaaa"}},s.createElement(m().Header,null,s.createElement(p(),{style:{textAlign:"center"},level:2},s.createElement(g(),{style:{fontSize:"120px",color:"#ff9900"}}),s.createElement("br",null),s.createElement("br",null),"ERR0001"===this.state.errorCode?(0,f._)("Failed to load Inputs Page"):(0,f._)("Something went wrong!"))),s.createElement(m().Body,null,this.state.errorCode?s.createElement(s.Fragment,null,(0,f._)(E[this.state.errorCode]),s.createElement("br",null),s.createElement("br",null)):null,s.createElement("details",{style:{whiteSpace:"pre-wrap"}},null===(e=this.state.error)||void 0===e?void 0:e.toString())),s.createElement(m().Footer,{showBorder:!1},this.state.errorCode?this.state.errorCode:null))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{errorCode:e.uccErrorCode}}}]),u}(s.Component);k.propTypes={children:u().oneOfType([u().arrayOf(u().node),u().node]).isRequired};const Z=k},7588:(e,t,n)=>{n.d(t,{Z:()=>ze});var r=n(4942),a=n(885),o=n(7294),i=n(7145),l=n.n(i),s=n(1721),c=n(1581),u=n.n(c),d=n(6070),p=n(2297),f=n(4255),h=n(7462),m=n(7599),v=n.n(m),g=n(6219),y=n(4893),b=n(6549),E=n(4843),k=n(168),Z=n(2346),O=n.n(Z),C=n(2788),w=n(5671),R=n(3144),S=n(7326),x=n(9340),P=n(2963),N=n(1120),j=n(9536);var _=function(e){(0,x.Z)(i,e);var t,n,a=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,N.Z)(t);if(n){var a=(0,N.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,P.Z)(this,e)});function i(e){var t;return(0,w.Z)(this,i),t=a.call(this,e),(0,r.Z)((0,S.Z)(t),"loadCustomControl",(function(){return new Promise((function(e){if("external"===t.props.type)import("".concat((0,j.a)(),"/custom/").concat(t.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var n=(0,f.YK)().meta.name;require(["app/".concat(n,"/js/build/custom/").concat(t.props.fileName)],(function(t){return e(t)}))}}))})),t.state={loading:!0},t.shouldRender=!0,t}return(0,R.Z)(i,[{key:"componentDidMount",value:function(){var e=this,t=(0,f.YK)();this.setState({loading:!0}),this.loadCustomControl().then((function(n){e.customControl=new n(t,e.props.serviceName,e.el,e.props.row,e.props.field),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.row!==e.row||!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;if(!this.state.loading)try{this.customControl.render(this.props.row,this.props.field)}catch(e){console.error(e)}return o.createElement(o.Fragment,null,this.state.loading&&(0,g._)("Loading..."),o.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),i}(o.Component);_.propTypes={serviceName:u().string.isRequired,row:u().object.isRequired,field:u().string,fileName:u().string.isRequired,type:u().string};const M=_;var T,D=(0,C.default)(v().Cell)(T||(T=(0,k.Z)(["\n    border-top: none;\n"])));function F(e,t,n){var r,a,i=null===(r=(0,f.YK)().pages)||void 0===r?void 0:r.inputs,l=null!=i&&i.table?i.table.customRow:null===(a=i.services.find((function(e){return e.name===t.serviceName})).table)||void 0===a?void 0:a.customRow;return o.createElement(v().Row,{key:"".concat(t.id,"-expansion")},o.createElement(D,{colSpan:e},l&&l.src?o.createElement(o.Fragment,null,o.createElement(M,{serviceName:t.serviceName,row:t,fileName:l.src,type:l.type})):o.createElement(O(),{termWidth:250},function(e,t){var n=[];return null!=t&&t.length&&t.forEach((function(t){var r=(0,g._)(t.label);t.field in e&&null!==e[t.field]&&""!==e[t.field]&&(n.push(o.createElement(O().Term,{key:t.field},r)),n.push(o.createElement(O().Description,{key:"".concat(t.field,"_decr")},t.mapping&&t.mapping[e[t.field]]?t.mapping[e[t.field]]:String(e[t.field]))))})),n}(t,n))))}var V,A,q=n(9881),z=n(5414),L=n.n(z),I=n(7885),B=n.n(I),K=n(5864),H=n.n(K),U=n(5458),$=n.n(U),W=n(1),G=n.n(W),X=n(4193),Y=n.n(X),J=n(8442),Q=n.n(J),ee=(0,C.default)(v().Cell)(V||(V=(0,k.Z)(["\n    padding: 2px;\n"]))),te=C.default.div(A||(A=(0,k.Z)(["\n    display: flex;\n\n    .toggle_switch {\n        padding: 0;\n        margin-right: 10px;\n    }\n"])));function ne(e){var t=e.row,n=e.columns,r=e.headerMapping,a=e.handleToggleActionClick,i=e.handleEditActionClick,l=e.handleCloneActionClick,s=e.handleDeleteActionClick,c=(0,o.useCallback)((function(e){return o.createElement(ee,{"data-column":"actions",key:e.id},o.createElement(H(),null,o.createElement($(),{content:(0,g._)("Edit")},o.createElement(d.xV,{appearance:"flat",icon:o.createElement(G(),{screenReaderText:null,size:1}),onClick:function(){return i(e)},className:"editBtn"})),o.createElement($(),{content:(0,g._)("Clone")},o.createElement(d.xV,{appearance:"flat",icon:o.createElement(Y(),{screenReaderText:null,size:1}),onClick:function(){return l(e)},className:"cloneBtn"})),o.createElement($(),{content:(0,g._)("Delete")},o.createElement(d.xV,{appearance:"destructive",icon:o.createElement(Q(),{screenReaderText:null,size:1}),onClick:function(){return s(e)},className:"deleteBtn"}))))}),[i,l,s]),u="Enabled";return t.__toggleShowSpinner?u=o.createElement(L(),null):t.disabled&&(u=null!=r&&r.disabled&&r.disabled[t.disabled]?r.disabled[t.disabled]:"Disabled"),o.createElement(o.Fragment,null,o.createElement(v().Row,(0,h.Z)({key:t.id},e),n&&n.length&&n.map((function(e){var n="";if(e.customCell&&e.customCell.src)n=o.createElement(v().Cell,{"data-column":e.field,key:e.field},function(e,n){return o.createElement(M,{serviceName:t.serviceName,field:n.field,row:e,fileName:n.customCell.src,type:n.customCell.type})}(t,e));else if("disabled"===e.field){var i,l;n=o.createElement(v().Cell,{"data-column":e.field,key:e.field},o.createElement(te,null,o.createElement(B(),{key:t.name,value:t.disabled,onClick:function(){return a(t)},selected:!t.disabled,disabled:t.__toggleShowSpinner,appearance:"toggle",className:"toggle_switch",selectedLabel:(0,g._)(null!=r&&null!==(i=r.disabled)&&void 0!==i&&i.false?r.disabled.false:"Enabled"),unselectedLabel:(0,g._)(null!=r&&null!==(l=r.disabled)&&void 0!==l&&l.true?r.disabled.true:"Disabled")}),o.createElement("span",{"data-test":"status"},u)))}else n="actions"===e.field?c(t):o.createElement(v().Cell,{style:{wordBreak:"break-all"},"data-column":e.field,key:e.field},r[e.field]&&Object.prototype.hasOwnProperty.call(r[e.field],t[e.field])?r[e.field][t[e.field]]:t[e.field]);return n}))))}ne.propTypes={row:u().any,columns:u().array,headerMapping:u().object,handleToggleActionClick:u().func,handleEditActionClick:u().func,handleCloneActionClick:u().func,handleDeleteActionClick:u().func};const re=o.memo(ne);var ae,oe=n(5792),ie=n(6416),le=n.n(ie),se=n(1158),ce=n.n(se),ue=n(8689),de=n.n(ue),pe=n(6057),fe=n(9609);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=(0,C.default)(ce())(ae||(ae=(0,k.Z)(["\n    width: 800px;\n"]))),ge=function(e){(0,x.Z)(i,e);var t,n,a=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,N.Z)(t);if(n){var a=(0,N.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,P.Z)(this,e)});function i(e){var t;return(0,w.Z)(this,i),t=a.call(this,e),(0,r.Z)((0,S.Z)(t),"handleRequestClose",(function(){t.state.ErrorMsg="",t.props.handleRequestClose()})),(0,r.Z)((0,S.Z)(t),"handleDelete",(function(){t.setState((function(e){return me(me({},e),{},{isDeleting:!0,ErrorMsg:""})}),(function(){(0,p.L)({serviceName:"".concat(t.props.serviceName,"/").concat(encodeURIComponent(t.props.stanzaName)),customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"delete",handleError:!1}).catch((function(e){var n=(0,fe.n)(e);return t.setState({ErrorMsg:n,isDeleting:!1}),Promise.reject(e)})).then((function(){t.context.setRowData(l()(t.context.rowData,(0,r.Z)({},t.props.serviceName,{$unset:[t.props.stanzaName]}))),t.setState({isDeleting:!1}),t.handleRequestClose(),(0,f.Ke)('Deleted "'.concat(t.props.stanzaName,'"'),"success")}))}))})),(0,r.Z)((0,S.Z)(t),"generateErrorMessage",(function(){return t.state.ErrorMsg?o.createElement("div",null,o.createElement(de(),{appearance:"fill",type:"error"},t.state.ErrorMsg)):null})),t.state={isDeleting:!1,ErrorMsg:""},t}return(0,R.Z)(i,[{key:"render",value:function(){var e;return e=this.props.page===E.b?(0,fe.P)(103,[this.props.stanzaName]):(0,fe.P)(102,[this.props.stanzaName]),o.createElement(ve,{open:this.props.open},o.createElement(ce().Header,{title:(0,fe.P)(101),onRequestClose:this.handleRequestClose}),o.createElement(ce().Body,{className:"deletePrompt"},this.generateErrorMessage(),o.createElement("p",null,e)),o.createElement(ce().Footer,null,o.createElement(le(),{appearance:"secondary",onClick:this.handleRequestClose,label:(0,g._)("Cancel"),disabled:this.state.isDeleting}),o.createElement(le(),{appearance:"primary",label:this.state.isDeleting?o.createElement(L(),null):(0,g._)("Delete"),onClick:this.handleDelete,disabled:this.state.isDeleting})))}}]),i}(o.Component);(0,r.Z)(ge,"contextType",pe.Z),ge.propTypes={page:u().string.isRequired,open:u().bool,handleRequestClose:u().func,serviceName:u().string,stanzaName:u().string};const ye=ge;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){var t=e.page,n=e.serviceName,r=e.data,i=e.handleToggleActionClick,l=e.handleOpenPageStyleDialog,s=e.handleSort,c=e.sortDir,u=e.sortKey,p=e.tableConfig,m=(0,f.YK)(),k=(0,o.useState)({open:!1}),Z=(0,a.Z)(k,2),O=Z[0],C=Z[1],w=(0,o.useState)({open:!1}),R=(0,a.Z)(w,2),S=R[0],x=R[1],P=(0,o.useContext)(pe.Z).rowData,N=p.moreInfo,j=p.header,_=p.header,M={};j.forEach((function(e){M[e.field]=e.mapping}));var T={};t===E.b&&m.pages.inputs.services.forEach((function(e){T[e.name]=e.style===q.G?q.G:q.f}));var D=(0,y.Z)();(0,o.useEffect)((function(){if(D&&(D.get("tab")===n||void 0===n))if(D.get("record")&&!O.open){var e=Object.keys(P).find((function(e){return void 0!==P[e][D.get("record")]}));if(e){var t=P[e][D.get("record")];C(Ee(Ee({},O),{},{open:!0,serviceName:t.serviceName,stanzaName:t.name,mode:b.bZ}))}}else!D.get("record")&&O.open&&C(Ee(Ee({},O),{},{open:!1}))}),[]);var V,A,z,L,I,B,K=function(){C(Ee(Ee({},O),{},{open:!1}))},H=(0,o.useCallback)((function(e){"page"===T[e.serviceName]?l(e,b.bZ):C(Ee(Ee({},O),{},{open:!0,serviceName:e.serviceName,stanzaName:e.name,mode:b.bZ}))}),[O]),U=(0,o.useCallback)((function(e){"page"===T[e.serviceName]?l(e,b.Oh):C(Ee(Ee({},O),{},{open:!0,serviceName:e.serviceName,stanzaName:e.name,mode:b.Oh}))}),[O]),$=(0,o.useCallback)((function(e){x(Ee(Ee({},S),{},{open:!0,stanzaName:e.name,serviceName:e.serviceName}))}),[S]),W=(V=[],_&&_.length&&_.forEach((function(e){V.push(Ee(Ee({},e),{},{sortKey:e.field||null,isCustomMapping:!!e.mapping}))})),V.push({label:"Actions",field:"actions",sortKey:""}),V),G=(0,o.useCallback)((function(){return o.createElement(v().Head,null,W&&W.length&&W.map((function(e){return o.createElement(v().HeadCell,{key:e.field,onSort:function(t){return e.sortKey?s(t,e):null},sortKey:e.sortKey?e.sortKey:null,sortDir:e.sortKey&&e.sortKey===u?c:"none"},e.label)})))}),[W,s,c,u]);return o.createElement(o.Fragment,null,W&&W.length&&o.createElement(v(),(0,h.Z)({stripeRows:!0},N?{rowExpansion:"single"}:{}),G(),o.createElement(v().Body,null,r&&r.length&&r.map((function(e){return o.createElement(re,(0,h.Z)({key:e.id,row:e,columns:W,headerMapping:M,handleEditActionClick:H,handleCloneActionClick:U,handleDeleteActionClick:$,handleToggleActionClick:i},N?{expansionRow:F(W.length,e,N)}:{}))})))),r.length?null:o.createElement(d.Pd,null,"No records found"),O.open?(A="inputs"===t?null===(L=(null===(z=m.pages)||void 0===z?void 0:z.inputs).services.find((function(e){return e.name===O.serviceName})))||void 0===L?void 0:L.title:null===(B=(null===(I=m.pages)||void 0===I?void 0:I.configuration).tabs.find((function(e){return e.name===O.serviceName})))||void 0===B?void 0:B.title,o.createElement(oe.Z,{page:t,open:O.open,handleRequestClose:K,serviceName:O.serviceName,stanzaName:O.stanzaName,mode:O.mode,formLabel:O.mode===b.Oh?(0,g._)("Clone ")+A:(0,g._)("Update ")+A})):null,o.createElement(ye,{page:t,open:S.open,handleRequestClose:function(){x(Ee(Ee({},S),{},{open:!1}))},serviceName:S.serviceName,stanzaName:S.stanzaName}))}ke.propTypes={page:u().string.isRequired,serviceName:u().string,data:u().array.isRequired,handleToggleActionClick:u().func,handleOpenPageStyleDialog:u().func,handleSort:u().func,sortDir:u().string,sortKey:u().string};const Ze=(0,o.memo)(ke);var Oe=n(6521),Ce=n.n(Oe),we=n(8411),Re=n.n(we),Se=n(6401),xe=n.n(Se);function Pe(e){var t=(0,o.useContext)(pe.Z).searchText;return o.createElement(xe(),{appearance:"search",placeholder:"filter",onChange:e.handleChange,value:t})}Pe.propTypes={handleChange:u().func};const Ne=Pe;var je,_e,Me=C.default.div(je||(je=(0,k.Z)(["\n    display: flex;\n    justify-content: space-between;\n    border-top: 1px solid #ccc;\n    padding-top: 5px;\n    margin-bottom: 5px;\n"]))),Te=C.default.div(_e||(_e=(0,k.Z)(["\n    max-width: 300px;\n    width: 100%;\n"])));function De(e){var t=e.page,n=e.isOuterTable,r=e.services,a=e.totalElement,i=e.handleRequestModalOpen,l=(0,o.useContext)(pe.Z),s=l.pageSize,c=l.currentPage,u=l.setCurrentPage,p=l.setPageSize,f=l.searchType,h=l.setSearchType,m=l.setSearchText,v=t===E.b?"Input":"Item";return o.createElement(Me,null,o.createElement("div",null,o.createElement("span",{className:"inputNumber"},a,a>1?(0,g._)(" ".concat(v,"s")):(0,g._)(" ".concat(v))),t===E.b?o.createElement(d.fh,null,o.createElement(Ce(),{value:s,className:"dropdownPage",onChange:function(e,t){var n=t.value;u(0),p(n)}},o.createElement(Ce().Option,{key:"10",label:(0,g._)("10 Per Page"),value:10}),o.createElement(Ce().Option,{key:"25",label:(0,g._)("25 Per Page"),value:25}),o.createElement(Ce().Option,{key:"50",label:(0,g._)("50 Per Page"),value:50})),n?function(){if(r.length<2)return null;var e=[];return(e=r.map((function(e){return o.createElement(Ce().Option,{key:e.name,label:e.title,value:e.name})}))).unshift(o.createElement(Ce().Option,{key:"all",label:(0,g._)("All"),value:"all"})),o.createElement(Ce(),{value:f,className:"dropdownInput",onChange:function(e,t){var n=t.value;u(0),h(n)}},e)}():null):null),o.createElement(Te,null,o.createElement(Ne,{handleChange:function(e,t){var n=t.value;u(0),m(n)}})),o.createElement("div",null,o.createElement(Re(),{onChange:function(e,t){var n=t.page;return u(n-1)},current:c+1,alwaysShowLastPageLink:!0,totalPages:Math.ceil(a/s)}),t===E.b&&n?null:o.createElement(le(),{label:(0,g._)("Add"),appearance:"primary",onClick:i})))}De.propTypes={page:u().string,services:u().array,totalElement:u().number,handleRequestModalOpen:u().func};const Fe=De;function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){var t,n=e.page,i=e.serviceName,c=e.handleRequestModalOpen,u=e.handleOpenPageStyleDialog,h=(0,o.useState)("name"),m=(0,a.Z)(h,2),v=m[0],g=m[1],y=(0,o.useState)("asc"),b=(0,a.Z)(y,2),k=b[0],Z=b[1],O=(0,o.useState)(!1),C=(0,a.Z)(O,2),w=C[0],R=C[1],S=(0,o.useState)(!0),x=(0,a.Z)(S,2),P=x[0],N=x[1],j=(0,o.useState)(null),_=(0,a.Z)(j,2),M=_[0],T=_[1],D=(0,o.useContext)(pe.Z),F=D.rowData,V=D.setRowData,A=D.pageSize,q=D.currentPage,z=D.searchText,L=D.searchType,I=(0,f.YK)(),B=null===(t=I.pages.inputs)||void 0===t?void 0:t.table,K=n===E.b?I.pages.inputs.services:I.pages.configuration.tabs.filter((function(e){return e.name===i})),H=n===E.b?B||K.find((function(e){return e.name===i})).table:I.pages.configuration.tabs.find((function(e){return e.name===i})).table,U=H.moreInfo,$=H.header,W=!!B;(0,o.useEffect)((function(){var e;e=[],K.forEach((function(t){e.push((0,p.L)({serviceName:t.name,params:{count:-1}}))})),s.ZP.all(e).catch((function(e){var t="",r="";return e.response?(t="Error received from server: ".concat(e.response.data.messages[0].text),r=n===E.b?"ERR0001":"ERR0002"):e.request?(t="No response received while making request to ".concat(n," services"),r="ERR0003"):(t="Error making request to ".concat(n," services"),r="ERR0004"),e.uccErrorCode=r,(0,f.Ke)(t),N(!1),T(e),Promise.reject(e)})).then((function(e){var t,n;t=e.map((function(e){return e.data.entry})),n={},K.forEach((function(e,r){if(e&&e.name&&t){var a={};t[r].forEach((function(t){a[t.name]=Ae(Ae({},t.content),{},{id:t.id,name:t.name,serviceName:e.name,serviceTitle:e.title||""})})),n[e.name]=a}})),V(n),N(!1)}))}),[]);var G=function(e){var t=[],n=[];return $.forEach((function(e){n.push(e.field)})),null==U||U.forEach((function(e){n.push(e.field)})),Object.keys(e).forEach((function(r){var a=!1;Object.keys(e[r]).forEach((function(o){n.includes(o)&&"string"==typeof e[r][o]&&e[r][o].toLowerCase().includes(z.toLowerCase().trim())&&!a&&(t.push(e[r]),a=!0)}))})),t};if(null!=M&&M.uccErrorCode)throw M;if(P)return o.createElement(d.XE,null);var X=function(){var e=[];"all"===L?Object.keys(F).forEach((function(t){var n;n=z&&z.length?G(F[t]):Object.keys(F[t]).map((function(e){return F[t][e]})),e=e.concat(n)})):e=G(F[L]),W||(e=e.filter((function(e){return e.serviceName===i})));var t=w?"serviceTitle":v,n=e.sort((function(e,n){if("asc"===k)return(void 0===e[t]?"":e[t])>(void 0===n[t]?"":n[t])?1:-1;if("desc"===k){var r=void 0===e[t]?"":e[t];return(void 0===n[t]?"":n[t])>r?1:-1}return 0})),r=n.slice(q*A,(q+1)*A);return q>0&&!r.length&&(r=n.slice((q-1)*A,A)),[r,e.length]}(),Y=(0,a.Z)(X,2),J=Y[0],Q=Y[1];return o.createElement(o.Fragment,null,o.createElement(Fe,{page:n,services:K,totalElement:Q,handleRequestModalOpen:c,isOuterTable:W}),o.createElement(Ze,{page:n,serviceName:i,data:J,handleToggleActionClick:function(e){return function(e){V((function(t){return l()(t,(0,r.Z)({},e.serviceName,(0,r.Z)({},e.name,{__toggleShowSpinner:{$set:!0}})))}));var t=new URLSearchParams;t.append("disabled",!e.disabled),(0,p.L)({serviceName:"".concat(e.serviceName,"/").concat(e.name),body:t,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!0,callbackOnError:function(){V((function(t){return l()(t,(0,r.Z)({},e.serviceName,(0,r.Z)({},e.name,{__toggleShowSpinner:{$set:!1}})))}))}}).then((function(t){V((function(n){return l()(n,(0,r.Z)({},e.serviceName,(0,r.Z)({},e.name,{disabled:{$set:(0,f.oA)(t.data.entry[0].content.disabled)},__toggleShowSpinner:{$set:!1}})))}))}))}(e)},handleSort:function(e,t){var n=v===t.sortKey?k:"none";Z("asc"===n?"desc":"asc"),g(t.sortKey),R(t.isCustomMapping)},sortDir:k,sortKey:v,handleOpenPageStyleDialog:u,tableConfig:H,services:K}))}qe.propTypes={page:u().string,serviceName:u().string,handleRequestModalOpen:u().func,handleOpenPageStyleDialog:u().func};const ze=(0,o.memo)(qe)},9881:(e,t,n)=>{n.d(t,{G:()=>r,f:()=>a});var r="page",a="modal"},6549:(e,t,n)=>{n.d(t,{DE:()=>i,Oh:()=>r,bZ:()=>o,jg:()=>a});var r="clone",a="create",o="edit",i="config"},6057:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>c});var r=n(885),a=n(7294),o=n(1581),i=n.n(o),l=(0,a.createContext)({rowData:{},setRowData:function(){}}),s=function(e){var t=e.children,n=(0,a.useState)({}),o=(0,r.Z)(n,2),i=o[0],s=o[1],c=(0,a.useState)(""),u=(0,r.Z)(c,2),d=u[0],p=u[1],f=(0,a.useState)("all"),h=(0,r.Z)(f,2),m=h[0],v=h[1],g=(0,a.useState)(10),y=(0,r.Z)(g,2),b=y[0],E=y[1],k=(0,a.useState)(0),Z=(0,r.Z)(k,2),O=Z[0],C=Z[1];return a.createElement(l.Provider,{value:{rowData:i,setRowData:s,searchText:d,setSearchText:p,searchType:m,setSearchType:v,pageSize:b,setPageSize:E,currentPage:O,setCurrentPage:C}},t)};s.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired};const c=l},4893:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(9250);const a=function(){return new URLSearchParams((0,r.TH)().search)}},1263:(e,t,n)=>{n.d(t,{pZ:()=>u,r3:()=>c});var r,a,o,i=n(168),l=n(2788),s=n(5947),c=l.default.div.attrs({className:"pageTitle"})(r||(r=(0,i.Z)(["\n    &.pageTitle {\n        font-size: ",";\n        margin-bottom: 20px;\n    }\n"])),s.variables.fontSizeXXLarge),u=l.default.div.attrs({className:"pageSubtitle"})(a||(a=(0,i.Z)(["\n    &.pageSubtitle {\n        font-size: ",";\n        margin-bottom: 10px;\n    }\n"])),s.variables.fontSize);l.default.div(o||(o=(0,i.Z)(["\n    .table-caption-inner {\n        text-align: left;\n    }\n"])))},2297:(e,t,n)=>{n.d(t,{L:()=>u});var r=n(4942),a=n(1721),o=n(2411),i=n(7212),l=n(4255);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.serviceName,n=e.endpointUrl,r=e.params,s=e.body,u=e.cancelToken,d=e.customHeaders,p=void 0===d?{}:d,f=e.method,h=void 0===f?"get":f,m=e.handleError,v=void 0!==m&&m,g=e.callbackOnError,y=void 0===g?function(){}:g,b=t?(0,l.w3)(t):n,E={app:o.app,owner:"nobody"},k={"X-Splunk-Form-Key":o.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},Z=Object.assign(k,p),O=(0,i.createRESTURL)(b,E),C={output_mode:"json"};r&&(C=c(c({},C),r));var w={params:C,method:h,url:O,credentials:"include",headers:Z,cancelToken:u};return"post"===h&&(w.data=s),v?(0,a.ZP)(w).catch((function(e){var t="";return a.ZP.isCancel(e)||(t=e.response?"Error response received from server: ".concat(e.response.data.messages[0].text):e.request?"No response received while making request to ".concat(b):"Error making ".concat(h," request to ").concat(b),(0,l.Ke)(t,"error"),y(e)),Promise.reject(e)})):(0,a.ZP)(w)}}}]);