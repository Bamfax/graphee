"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[526],{7526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var a=n(4942),r=n(885),l=n(168),i=n(7294),o=n(9250),c=n(1569),u=n.n(c),s=n(6416),m=n.n(s),p=n(6635),d=n.n(p),f=n(2725),g=n.n(f),v=n(2788),h=n(1946),b=n.n(h),y=n(2672),E=n.n(y),C=n(6219),N=n(9609),S=n(4255),Z=n(1263),_=n(6057),O=n(6549),k=n(4843),P=n(9881),j=n(5671),w=n(3144),R=n(7326),I=n(9340),x=n(2963),L=n(1120),T=n(1581),q=n.n(T),z=n(9536);var D=function(e){(0,I.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,L.Z)(t);if(n){var r=(0,L.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,x.Z)(this,e)});function l(e){var t;return(0,j.Z)(this,l),t=r.call(this,e),(0,a.Z)((0,R.Z)(t),"setValue",(function(e){t.props.handleChange(e)})),(0,a.Z)((0,R.Z)(t),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===t.props.type)import("".concat((0,z.a)(),"/custom/").concat(t.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var n=(0,S.YK)().meta.name;require(["app/".concat(n,"/js/build/custom/").concat(t.props.fileName)],(function(t){return e(t)}))}}))})),t.state={loading:!0},t.shouldRender=!0,t}return(0,w.Z)(l,[{key:"componentDidMount",value:function(){var e=this,t=(0,S.YK)();this.setState({loading:!0}),this.loadCustomMenu().then((function(n){new n(t,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return i.createElement(i.Fragment,null,this.state.loading&&(0,C._)("Loading..."),i.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),l}(i.Component);D.propTypes={fileName:q().string.isRequired,type:q().string,handleChange:q().func};const M=D;var B=n(7588),A=n(5792),F=n(5496),K=n(6206),U=n.n(K),Y=n(5414),V=n.n(Y),G=n(5947),H=n(4930);function W(e){var t=e.handleRequestClose,n=e.serviceName,a=e.mode,l=e.stanzaName,o=e.formLabel,c=(0,i.useRef)(),s=(0,i.useState)(!1),p=(0,r.Z)(s,2),d=p[0],f=p[1],g=(0,C._)("Submit");a===O.jg?g=(0,C._)("Add"):a===O.Oh?g=(0,C._)("Clone Input"):a===O.bZ&&(g=(0,C._)("Update"));var v={boxShadow:(0,G.useSplunkTheme)().embossShadow,padding:"1%",backgroundColor:"white"};return i.createElement(u(),{gutter:8},i.createElement(u().Row,{style:{padding:"5px 0px"}},i.createElement(u().Column,null,i.createElement(Z.pZ,null,i.createElement(U(),{onClick:t},(0,C._)("Inputs"))," > ",(0,C._)(o)))),i.createElement(u().Row,null,i.createElement(u().Column,{span:2}),i.createElement(u().Column,{span:8,style:v},i.createElement(H.Z,{ref:c,page:k.b,serviceName:n,mode:a,stanzaName:l,handleFormSubmit:function(e,n){f(e),n&&t()}})),i.createElement(u().Column,{span:2})),i.createElement(u().Row,null,i.createElement(u().Column,{span:7}),i.createElement(u().Column,{span:3,style:{textAlign:"right"}},i.createElement(m(),{appearance:"secondary",onClick:t,label:(0,C._)("Cancel"),disabled:d}),i.createElement(m(),{appearance:"primary",label:d?i.createElement(V(),null):g,onClick:function(){c.current.handleSubmit()&&t()},disabled:d})),i.createElement(u().Column,{span:2})))}W.propTypes={handleRequestClose:q().func,serviceName:q().string,mode:q().string,stanzaName:q().string,formLabel:q().string};const J=(0,i.memo)(W);var Q,X=n(4893);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=(0,v.default)(u().Row)(Q||(Q=(0,l.Z)(["\n    padding: 5px 0px;\n\n    .dropdown {\n        text-align: right;\n    }\n\n    .input_button {\n        text-align: right;\n        margin-right: 0px;\n    }\n"])));const ne=function(){var e,t,n=(0,i.useState)({open:!1}),a=(0,r.Z)(n,2),l=a[0],c=a[1],s=(0,S.YK)(),p=s.pages.inputs,f=p.services,v=p.title,h=p.description,y=p.menu,j=!!(null===(e=s.pages.inputs)||void 0===e?void 0:e.table),w=(0,i.useState)(f[0].name),R=(0,r.Z)(w,2),I=R[0],x=R[1],L=(0,i.useState)((null===(t=f[0])||void 0===t?void 0:t.description)||""),T=(0,r.Z)(L,2),q=T[0],z=T[1],D=(0,i.useState)(f[0].title),K=(0,r.Z)(D,2),U=K[0],Y=K[1],V=i.createElement(m(),{appearance:"primary",id:"addInputBtn",label:(0,C._)("Create New Input"),isMenu:!0}),G=[O.Oh,O.jg,O.bZ],H=f.map((function(e){return e.name})),W=(0,o.s0)(),Q=(0,X.Z)();(0,i.useEffect)((function(){$(),ne()}),[(0,o.TH)().search]);var $=function(){var e=f.find((function(e){return e.name===Q.get("service")}));Q&&e&&G.includes(Q.get("action"))&&!l.open?Q.get("action")!==O.jg&&l.stanzaName?c(ee(ee({},l),{},{open:!0,isInputPageStyle:!0,serviceName:Q.get("service"),mode:Q.get("action")})):c(ee(ee({},l),{},{open:!0,isInputPageStyle:!0,serviceName:Q.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:O.jg})):Q.get("service")&&Q.get("action")||!l.open||!l.isInputPageStyle||c(ee(ee({},l),{},{open:!1}))},ne=function(){Q&&H.includes(Q.get("service"))&&x(Q.get("service"))},ae=function(e,t){var n=f.find((function(t){return t.name===e})).style===P.G;c(ee(ee({},l),{},{open:!0,serviceName:e,mode:O.jg,formLabel:"Add ".concat(t),isInputPageStyle:n})),n&&(Q.set("service",e),Q.set("action",O.jg),W({search:Q.toString()}))},re=function(e,t){var n,a=null===(n=f.find((function(t){return t.name===e.serviceName})))||void 0===n?void 0:n.title;c(ee(ee({},l),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:t===O.Oh?"Clone ".concat(a):"Update ".concat(a),mode:t})),Q.set("service",e.serviceName),Q.set("action",t),W({search:Q.toString()})},le=(0,i.useCallback)((function(e,t){var n=t.selectedTabId;x(n);var a=f.find((function(e){return e.name===n}));a&&(z(a.description),Y(a.title)),Q.delete("action"),Q.set("service",n),W({search:Q.toString()})}),[I]);return i.createElement(F.Z,null,i.createElement(_.W,{value:null},l.isInputPageStyle&&l.open?i.createElement(J,{open:l.open,handleRequestClose:function(){c(ee(ee({},l),{},{open:!1})),Q.delete("action"),W({search:Q.toString()})},serviceName:l.serviceName,stanzaName:l.stanzaName,mode:l.mode,formLabel:l.formLabel}):null," ",i.createElement("div",{style:l.isInputPageStyle&&l.open?{display:"none"}:{display:"block"}},i.createElement(u(),{gutter:8},i.createElement(te,null,i.createElement(u().Column,{span:9},i.createElement(Z.r3,null,j?(0,C._)(v||""):(0,C._)(U)),i.createElement(Z.pZ,null,j?(0,C._)(h||""):(0,C._)(q||""))),j?!f||null!=y&&y.src?i.createElement(u().Column,{span:3,className:"input_button"},i.createElement(M,{fileName:y.src,type:y.type,handleChange:function(e){var t=e.service;ae(t,f.find((function(e){return e.name===t})).title)}})):f.length>1?i.createElement(u().Column,{className:"dropdown",span:3},i.createElement(d(),{toggle:V},i.createElement(g(),{onClick:function(e){var t=f[f.findIndex((function(t){return t.title===e.target.innerText}))].name;ae(t,e.target.innerText)}},f.map((function(e){return i.createElement(g().Item,{key:e.name},e.title)}))))):i.createElement(u().Column,{span:3,className:"input_button"},i.createElement(m(),{label:(0,N.P)(100),appearance:"primary",id:"addInputBtn",onClick:function(){ae(f[0].name,f[0].title)}})):null)),j?i.createElement(B.Z,{page:k.b,handleOpenPageStyleDialog:re}):i.createElement(i.Fragment,null,i.createElement(E(),{activeTabId:I,onChange:le},f.map((function(e){return i.createElement(E().Tab,{key:e.name,label:(0,C._)(e.title),tabId:e.name}," ")}))),f.map((function(e){return i.createElement("div",{key:e.name,style:e.name!==I?{display:"none"}:{display:"block"},id:"".concat(e.name,"Tab")},i.createElement(B.Z,{page:k.b,serviceName:e.name,handleRequestModalOpen:function(){return ae(e.name,e.title)},handleOpenPageStyleDialog:re}))}))),i.createElement(b(),{position:"top-right"}),!l.isInputPageStyle&&l.open?i.createElement(A.Z,{page:k.b,open:l.open,handleRequestClose:function(){c(ee(ee({},l),{},{open:!1}))},serviceName:l.serviceName,mode:O.jg,formLabel:l.formLabel}):null)))}}}]);